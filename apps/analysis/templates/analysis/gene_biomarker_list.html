{% extends "base.html" %}

{% block title %}OncoView-Gene{% endblock %}

{% block script %}
<script type="text/javascript" src="/static/js/gene_data.js"></script>
{% endblock %}

{% block content %}
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<h3>基因信息</h3>
			<div class="container">
				<div class="row clearfix">
					<div class="col-md-12 column">
						<dl class="dl-horizontal">
							<dt>基因名称</dt>
							<dd><a href="http://www.ncbi.nlm.nih.gov/gene/{{ basic_gene_info.gene_id }}" target="_blank" id="gene_symbol">{{ basic_gene_info.gene_symbol }}</a></dd>
							<dd hidden id="ncbiid">{{ basic_gene_info.gene_id }}</dd>
							<dt>系统命名法全称</dt>
							<dd>{{ basic_gene_info.full_name_from_nomenclature_authority }}</dd>
							<dt>别名</dt>
							<dd>{{ basic_gene_info.synonyms }}</dd>
							<dt>Xrefs</dt>
							<dd>{{ basic_gene_info.db_xrefs }}</dd>
							<dt>基因组定位</dt>
							<dd>{{ basic_gene_info.map_location }}</dd>
							{% if gene_info %}
							<dt>基因功能描述</dt>
							<dd>{{ gene_info }}</dd>
							<dt>Pathway</dt>
							<dd><a href="https://www.kegg.jp/kegg-bin/search_pathway_text?map=map&mode=1&viewImage=true&keyword={{gene_info.gene_name}}" target="_blank">KEGG Link</a></dd>
								{% if gene_info.pathway_website %}<dt>视频讲解</dt>
								<dd><a href="{{ gene_info.pathway_website }}" target="_blank"><span class="glyphicon glyphicon-film"></span></a></dd>
								{% endif %}
							{% endif %}
							<dt>临床试验</dt>
							<dd><a href="{% url 'reports:getclinicaltrials' basic_gene_info.gene_symbol %}" target="_blank">ClinicalTrials</a></dd>
						</dl>
					</div>
				</div>
			</div>
			<ul id="myTab" class="nav nav-tabs">
                {% if gene_variant_desc %}<li><a href="#variantdescs" data-toggle="tab" onclick="loadVariantdescs()">Variant Description</a></li>{% endif %}
				{% if gene_annotation %}<li><a href="#annotation" data-toggle="tab" onclick="loadAnnotation()">Annotation</a></li>{% endif %}
				{% if gene_disease_annotation %}<li><a href="#gene_disease" data-toggle="tab" onclick="loadGenedisease()">GeneDisease</a></li>{% endif %}
			</ul>
            <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade in active" id="load_variant">
                    <div class="container">
                        <div class="row clearfix">
                            <div class="col-md-12 column">
								<span id="variant_load"></span>
                                <table class="table table-hover table-condensed" id="variantdesc"></table>
                            </div>
                        </div>
                    </div>
                </div>
				<div class="tab-pane fade in active" id="load_annotation">
					<div class="container">
						<div class="row clearfix">
							<div class="col-md-12 column">
								<table class="table table-hover table-condensed" id="annotation"></table>
							</div>
						</div>
					</div>
				</div>
				<div class="tab-pane fade in active" id="load_gene_disease">
					<div class="container">
						<div class="row clearfix">
							<div class="col-md-12 column">
								<table class="table table-hover table-condensed" id="gene_disease"></table>
							</div>
						</div>
					</div>
				</div>
            </div>
		</div>
	</div>
</div>
{% endblock %}
